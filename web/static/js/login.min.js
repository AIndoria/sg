function showBtn(e){e.preventDefault(),regCode.classList.remove("hidden"),regBtn.removeEventListener("click",showBtn),regBtn.addEventListener("click",register)}function register(e){e.preventDefault();var t=document.querySelector("[data-username]").value,r=document.querySelector("[data-password]").value,n=document.querySelector("[data-regcode]").value;http.post({url:"/login/",data:{user:t,pass:r,regcode:n,register:1}},function(e){var t=JSON.parse(e);t.SUCCESS?(alert("Success."),window.location="/"):alert(t.MSG)})}var regBtn=document.getElementById("regbtn"),regCode=document.getElementById("regcode"),loginForum=document.getElementById("login"),loginErrors=document.getElementById("login-errors");regBtn.addEventListener("click",showBtn),loginForum.addEventListener("submit",function(e){e.preventDefault();var t=document.querySelector("[data-username]").value,r=document.querySelector("[data-password]").value;document.querySelector("[data-regcode]").value;http.post({url:"/login/",data:{user:t,pass:r,login:1}},function(e){var t=JSON.parse(e);t.SUCCESS?window.location="/":alert(t.MSG)})});